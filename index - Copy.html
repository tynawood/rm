<!DOCTYPE html>
<html manifest="cache.manifest">

<!--================================================================================
    
================================================================================ -->


<!-- Mirrored from demo.geekslabs.com/materialize/v1.1/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Jun 2015 13:54:57 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="description" content=" ">
    <meta name="keywords" content="">
    <title></title>

    <!-- Favicons-->
   <!--  <link rel="icon" href="images/favicon/favicon-32x32.png" sizes="32x32"> -->
    <!-- Favicons-->
   <!--  <link rel="apple-touch-icon-precomposed" href="images/favicon/apple-touch-icon-152x152.png"> -->
    <!-- For iPhone -->
    <meta name="msapplication-TileColor" content="#00bcd4">
    <meta name="msapplication-TileImage" content="images/favicon/mstile-144x144.png">
    <!-- For Windows Phone -->


    <!-- CORE CSS-->    
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection">


    <!-- INCLUDED PLUGIN CSS ON THIS PAGE -->
    <link href="js/plugins/material-preloader/materialPreloader.html" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="js/plugins/perfect-scrollbar/perfect-scrollbar.css" type="text/css" rel="stylesheet" media="screen,projection">
   <!--  <link href="js/plugins/jvectormap/jquery-jvectormap.css" type="text/css" rel="stylesheet" media="screen,projection"> -->
    <link href="js/plugins/chartist-js/chartist.min.css" type="text/css" rel="stylesheet" media="screen,projection">




<style type="text/css">
html {
    height: 100%
}
body {
    height: 100%;
    margin: 0px;
    padding: 0px
}
</style>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places"></script>
<script type="text/javascript">
    //<![CDATA[
var latitude;
var longitude;

var price;


/*function showLocation(position) {
          

            
         }*/

        
      
        

         
         

      var map = null;
      var directionDisplay;
      var directionsService = new google.maps.DirectionsService();

     //  alert("Latitude : " + latitude + " Longitude: " + longitude);

     var start =  new google.maps.LatLng(currentLocation.coords.latitude, currentLocation.coords.longitude);

      function initialize() {
        directionsDisplay = new google.maps.DirectionsRenderer();
        var mapOptions = {
          zoom: 7,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          center: new google.maps.LatLng(5.5500, -.196306)
        };
        map = new google.maps.Map(document.getElementById('map_canvas'),
            mapOptions);


         //Find From location



 


         var options = {
  types: [],
  componentRestrictions: {country: "gh"}
 };

 var input = document.getElementById('start');
 var autocomplete = new google.maps.places.Autocomplete(input, options);



 var input = document.getElementById('end');
 var autocomplete = new google.maps.places.Autocomplete(input, options);
  
    //var fromText = document.getElementById('start');
    //var fromAuto = new google.maps.places.Autocomplete(fromText);
    //fromAuto.bindTo('bounds', map);
    //Find To location
   /* var toText = document.getElementById('end');
    var toAuto = new google.maps.places.Autocomplete(toText);
    toAuto.bindTo('bounds', map);*/
    //  
        directionsDisplay.setMap(map);
        directionsDisplay.setPanel(document.getElementById('directions-panel'));

        var control = document.getElementById('control');
        control.style.display = 'block';
        map.controls[google.maps.ControlPosition.TOP].push(control);
      }



      function calcRoute(currentLocation) {
      //var start =  new google.maps.LatLng(5.5500, -.196306);
      var start = document.getElementById('start').value;

       /* latitude = position.coords.latitude;
          longitude = position.coords.longitude;*/
       // var start =  new google.maps.LatLng(currentLocation.coords.latitude, currentLocation.coords.longitude);
      // var start = latlng;

      //  alert(start);

    //alert("Latitude : " + latitude + " Longitude: " + longitude); /*document.getElementById('start').value;*/
        var end = document.getElementById('end').value;
        var request = {
          origin: start,
          destination: end,
          travelMode: google.maps.DirectionsTravelMode.DRIVING
        };
        directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay.setDirections(response);
            computeTotalDistance(response);
          }
        });
      }


   if(navigator.geolocation){
               // timeout at 60000 milliseconds (60 seconds)
               var options = {timeout:60000};
               navigator.geolocation.getCurrentPosition(calcRoute, options);
            }
            
            else{
               alert("Sorry, browser does not support geolocation!");
            }
  

      function computeTotalDistance(result) {
      var total = 0;
      var myroute = result.routes[0];
      for (i = 0; i < myroute.legs.length; i++) {
        total += myroute.legs[i].distance.value;
      }
      total = total / 1000.

      price=total*2
     // document.getElementById("total").innerHTML = total + " km";
       document.getElementById("total").value = " Fare :GHS "  + price ;
      }

   

 
function findCurrentLocation() {
        navigator.geolocation.getCurrentPosition(calcRoute);


    }

window.onload=findCurrentLocation;
     // window.onload=getLocation();
      


      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body onLoad="initialize()">


 <header id="header" class="page-topbar">
        <!-- start header nav-->
        <div class="navbar-fixed">
            <nav class="blue">
                <div class="nav-wrapper">


                    <h1 class="logo-wrapper"><a href="index.html" class="brand-logo darken-1"><img src="images/materialize-logo.png" alt="materialize logo"></a> <span class="logo-text"></span></h1>


              <a class="right dropdown-button  waves-effect waves-light " style="margin-top:10px;" data-activates="dropdown2"><i class="mdi-navigation-more-vert"></i></a>
                          <ul id="dropdown2" class="dropdown-content" style="margin-left:-10px;margin-top:15px">
                            <li><a href="#!" class="-text" ></a>
                            </li>
                            <li><a href="#!" class="-text ">Info</a>
                            </li>
                            <li><a href="#!" class="-text">Share</a>
                            </li>
                          </ul>
                
                   
                 



                </div>
            </nav>
        </div>
        <!-- end header nav-->
    </header>
<div id="main">
        <!-- START WRAPPER -->
        <div class="wrapper">

            <!-- START LEFT SIDEBAR NAV-->
            <aside id="left-sidebar-nav">
                <ul id="slide-out" class="side-nav fixed leftside-navigation">
                  
                    <li class="bold"><a href="index-2.html" class="waves-effect waves-cyan"><i class="mdi-action-account-box"></i> Profile </a>
                    </li>
                    <li class="bold"><a href="app-email.html" class="waves-effect waves-cyan"><i class="mdi-maps-directions-car"></i> Rides </a>
                    </li>
                    <li class="bold"><a href="app-calendar.html" class="waves-effect waves-cyan"><i class="mdi-action-assignment"></i> Rate Cards </a>
                    </li>
                    <li class="no-padding">
                        <ul class="collapsible collapsible-accordion">
                            <li class="bold"><a class="collapsible-header waves-effect waves-cyan"><i class="mdi-social-share"></i> Refer to friends</a>
                              
                            </li>
                            <li class="bold"><a class="collapsible-header  waves-effect waves-cyan"><i class="mdi-image-palette"></i> Help </a>
                                                          </li>
                            
                           
                          


                          

                           
                        </ul>
                    </li>
                 
                </ul>
                <a href="#" data-activates="slide-out" class="sidebar-collapse  btn-medium waves-effect waves-light hide-on-large-only darken-2" style="color:#fff;"><i class="mdi-navigation-menu" ></i></a>
            </aside></div></div>




<!-- <div id="total" align="center" style="font-size:25px;"></div> -->

<form action="" method="post">
<input type="text" id="total" name="price"  value="" style="font-size:25px;margin-left:auto;margin-right:auto;"/>

              
  <div class="col s12 m8 l9">
<div id="" class="card-panel"> <div class="input-field">
        <i class="mdi-maps-my-location prefix"></i>
                         <input type="text" name="start" id="start"  placeholder=""  required="required" />
                           <label for="icon_prefix3">Specify your location</label> 
        </div> 

 <div class="input-field">
        <i class="mdi-content-flag prefix"></i>
                         <input type="text" name="end" id="end" class="validate" placeholder="" required />
                          <label for="icon_prefix3">Destination</label> 
                          </div>

<div align="center">
  <button  class="btn waves-effect waves-light " type="button" name="action" style="margin-top:10px;" onClick="calcRoute();">Calculate Route
                        <i class="mdi-content-send right"></i>
                      </button>

                      </div>

                   

<!-- <input type="button" value="GO" onClick="calcRoute();"> -->
</div>

</div>

</form>
<table border="none" style="height:100%; width:100%;margin-top:-40px;">
  <tr>
    <td style="width: 100%; height: 100%;"><div id="map_canvas" style="width:100%;height:60%;margin-top:-170px;"></div></td>
    
  </tr>

</table>
 <div class="col s12 m8 l9">
<div id="directions-panel" class="card-panel" style="width:100%;height: 100%; margin-top:-190px;"></div>

</div>
<form>

<div id="total" align="center"  value="" style="font-size:25px;"></div>
<div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
                        <button  class="btn-floating btn-large blue">
                          <i class="large mdi-maps-local-library" style="color:#000"></i>
                        </button>
                       
                    </div>

                    </form>
</body>
    <!-- jQuery Library -->
    <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>    
    <!--materialize js-->
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <!--scrollbar-->
    <script type="text/javascript" src="js/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script type="text/javascript" src="js/plugins/material-preloader/materialPreloader-2.html"></script>   

    <!-- chartist -->
    <script type="text/javascript" src="js/plugins/chartist-js/chartist.min.js"></script>   

    <!-- chartjs -->
  
    
    <!--jvectormap-->
    
<!--  <script type="text/javascript" src="js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script> -->

    <script type="text/javascript">


$('form').submit( function() {
   
    $.ajax( {
      url: 'http://inappshub.com/email.php',
      type: 'POST',
      data: new FormData( this ),
 
       success: function(data){
            console.log(data);
            alert('Contact Sent sucessfully ');
            window.location.href = "index.html";
        },
        error: function(data){
            console.log(data);
            alert('Contact Sent sucessfully');
            window.location.href = "index.html";
        },
      
        cache: false,
        contentType: false,
        processData: false
    });

    return false;
});
/*$('form').submit( function() {
    var postData = $(this).serialize();
    
    $.ajax({
        type: 'POST',
       data: postData,
        url: 'share.php',
        
        success: function(data){
            console.log(data);
            alert('Hapnin Was Shared successfully ');
            window.location.href = "index.html";
        },
        error: function(data){
            console.log(data);
            alert('Sharing Unsucessful');
            window.location.href = "index.html";
        });


   
    
    return false;
});
    
    */

        </script>
    
    <!--plugins.js - Some Specific JS codes for Plugin Settings-->
    <script type="text/javascript" src="js/plugins.js"></script>
    <!-- Toast Notification -->
  <script type="text/javascript">
    // Toast Notification
    $(window).load(function() {
        setTimeout(function() {
            Materialize.toast('<span>Hiya! You are now on taxi share.</span>', 1500);
        }, 100);
        setTimeout(function() {
            Materialize.toast('<span>Kindly switch on Your GPS!</span>', 1500);
        }, 10000);
       /* setTimeout(function() {
            Materialize.toast('<span>You have new order.</span><a class="btn-flat yellow-text" href="#">Read<a>', 3000);
        }, 15000);*/
    });
    
    </script>
</html>